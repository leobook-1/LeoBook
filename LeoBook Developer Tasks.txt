LeoBook Developer Tasks — Updated 2026-02-17


1. LeoBook App (Flutter): 
   STATUS: ✅ IMPLEMENTED (v2.8)
   All UI data is dynamically synced from Supabase. No hardcoded strings, mock data, or placeholder values. 
   Repository pattern: data_repository.dart fetches from Supabase with local caching.
   Responsive layout system via responsive_constants.dart with constraints-based design.
   75% uniform UI scaling via Transform.scale in main.dart builder.

2. Prologue (formerly Chapter 0): Enrichment & Outcome Review
   STATUS: ✅ IMPLEMENTED (v2.8)
   SyncManager.sync_on_startup() handles bi-directional Supabase sync.
   outcome_reviewer.py visits match URLs to extract final scores, reviews W/L/D.
   enrich_all_schedules.py visits all 22k+ match URLs to extract/upsert:
     - teams.csv (team IDs, crests, URLs)
     - region_league.csv (region-league mappings)  
     - schedules.csv (missing datetime, scores, status backfill)
     - standings.csv (league tables)
   Status column in schedules.csv: scheduled/postponed/cancelled/finished.
   Live match detection in Flutter UI: match_date == today AND match_time >= now < (match_time + 2.5h).

3. Chapter 1B: Custom Rule Engine & LeoBook Lite
   STATUS: PLANNED (not yet implemented)
   Offline reprediction (main_offline_repredict) exists in Leo.py via fs_offline.py.
   Custom rule engine creation, storage, backtesting, and accuracy comparison: NOT YET BUILT.
   User account tiers (Lite vs unregistered): NOT YET BUILT.
   Custom predictions visible only to the creating user: NOT YET BUILT.
   Rule documentation and comparison dashboard: NOT YET BUILT.
   
   Existing infrastructure that supports this:
     - rule_engine.py + rule_config.py: supports custom rule definitions
     - learning_engine.py: supports alternative weight matrices  
     - fs_offline.py: supports reprediction without browser
     - Firebase Auth scaffold exists in auth_repository.dart
     - Rule editor UI exists: rule_editor_screen.dart + backtest_dashboard.dart

4. LeoBook Pro:
   STATUS: PLANNED (not yet implemented)
   Full access to Chapters 0-3 (Prologue + Ch1 + Ch2 + Ch3).
   Automated booking + withdrawal management for Pro users.
   Requires: account system (Firebase Auth), subscription management, access control middleware.

   Access Control Matrix:
     - Unregistered:   Prologue (read-only), Ch1-A (default rules), Ch1-C (odds view)
     - LeoBook Lite:   + Ch1-B (custom rules, backtesting, custom predictions)
     - LeoBook Pro:    + Ch2 (automated booking/withdrawal), Ch3 (oversight dashboard)
